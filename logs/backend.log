time=2025-06-30T18:44:16.701+08:00 level=INFO msg="created stream" stream=task subjects="[apps.panda-wiki.summary.task apps.panda-wiki.vector.task]"
time=2025-06-30T18:44:16.703+08:00 level=INFO msg="created stream" stream=scraper subjects=[apps.panda-wiki.scraper.>]

2025/06/30 18:44:16 [31;1m/code/github.com/timdong/PandaWiki/backend/repo/pg/model.go:33 [35;1mduplicated key not allowed
[0m[33m[1.032ms] [34;1m[rows:0][0m INSERT INTO "models" ("id","provider","model","api_key","api_header","base_url","api_version","type","is_active","prompt_tokens","completion_tokens","total_tokens","created_at","updated_at") VALUES ('7dd12de6-8f06-4609-9b62-9a311de67b7b','BaiZhiCloud','bge-m3','sk-r8tmBtcU1JotPDPnlgZLOY4Z6Dbb7FufcSeTkFpRWA5v4Llr','','https://model-square.app.baizhi.cloud/v1','','embedding',false,0,0,0,'2025-06-30 18:44:16.762','2025-06-30 18:44:16.762')
time=2025-06-30T18:44:16.763+08:00 level=ERROR msg="init embedding & rerank model failed" error="init embedding model failed: duplicated key not allowed"
time=2025-06-30T18:44:26.771+08:00 level=ERROR msg="initial report installation" error="send request: Post \"https://baizhi.cloud/api/public/data/report\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"
time=2025-06-30T18:44:26.771+08:00 level=INFO msg="Starting server on port 8000"
time=2025-06-30T18:44:32.950+08:00 level=ERROR msg="jwt auth failed" error="missing value in request header"
time=2025-06-30T18:44:32.950+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/model/list status=401 latency=0
time=2025-06-30T18:44:53.011+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=3
time=2025-06-30T18:44:54.991+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/model/list status=200 latency=1
time=2025-06-30T18:44:55.040+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0

2025/06/30 18:44:55 [32m/code/github.com/timdong/PandaWiki/backend/repo/pg/knowledge_base.go:397 [33mSLOW SQL >= 200ms
[0m[31;1m[222.510ms] [33m[rows:2][35m SELECT "knowledge_bases"."id","knowledge_bases"."name","knowledge_bases"."dataset_id","knowledge_bases"."access_settings","knowledge_bases"."created_at","knowledge_bases"."updated_at" FROM "knowledge_bases" ORDER BY created_at ASC[0m
time=2025-06-30T18:44:55.213+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/knowledge_base/list status=200 latency=222
time=2025-06-30T18:44:55.219+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/knowledge_base/list status=200 latency=0
time=2025-06-30T18:44:55.247+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/knowledge_base/detail?id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:44:55.259+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=2
time=2025-06-30T18:45:02.276+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:45:03.776+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/share/v1/app/web/info status=200 latency=3
time=2025-06-30T18:45:03.788+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/share/v1/node/list status=200 latency=6
time=2025-06-30T18:45:03.800+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/share/v1/app/web/info status=200 latency=1
time=2025-06-30T18:45:03.804+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/share/v1/node/list status=200 latency=1
time=2025-06-30T18:45:06.334+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/share/v1/app/web/info status=200 latency=1
time=2025-06-30T18:45:06.370+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/share/v1/node/list status=200 latency=2
time=2025-06-30T18:45:08.733+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=1
time=2025-06-30T18:45:16.759+08:00 level=INFO msg="synced user access time to database" module=repo.pg.user_access update_count=1
time=2025-06-30T18:45:21.643+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=POST uri=/api/v1/file/upload status=200 latency=9
time=2025-06-30T18:45:21.967+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=POST uri=/api/v1/crawler/scrape status=200 latency=1
time=2025-06-30T18:45:25.081+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=POST uri=/api/v1/node status=200 latency=6
time=2025-06-30T18:45:29.178+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:45:29.417+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:45:30.961+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=1
time=2025-06-30T18:45:31.293+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=1
time=2025-06-30T18:45:31.513+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:45:43.699+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=1
time=2025-06-30T18:45:44.006+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:45:46.802+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197bf83-1842-7e13-9ee0-9835c3d5703a" status=200 latency=1
time=2025-06-30T18:45:47.111+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:45:48.309+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=1
time=2025-06-30T18:45:48.319+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:46:02.857+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=1
time=2025-06-30T18:46:03.167+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:46:03.183+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:46:06.203+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:46:06.505+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:46:06.627+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:46:16.752+08:00 level=INFO msg="synced user access time to database" module=repo.pg.user_access update_count=1
time=2025-06-30T18:46:46.117+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=1
time=2025-06-30T18:47:09.208+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=POST uri=/api/v1/file/upload status=200 latency=8
time=2025-06-30T18:47:09.454+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=POST uri=/api/v1/crawler/scrape status=200 latency=2
time=2025-06-30T18:47:13.478+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=POST uri=/api/v1/node status=200 latency=2
time=2025-06-30T18:47:16.749+08:00 level=INFO msg="synced user access time to database" module=repo.pg.user_access update_count=1
time=2025-06-30T18:47:17.782+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:47:18.034+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:47:19.982+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=1
time=2025-06-30T18:47:20.292+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c072-b944-77ec-b281-04a39d655232" status=200 latency=0
time=2025-06-30T18:47:20.404+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:47:31.368+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=3
time=2025-06-30T18:47:31.681+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c072-b944-77ec-b281-04a39d655232" status=200 latency=0
time=2025-06-30T18:47:31.799+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:47:31.809+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:47:38.785+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=4
time=2025-06-30T18:47:39.097+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:47:39.101+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:47:40.417+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=1
time=2025-06-30T18:47:40.426+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:47:40.679+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c071-11d2-7b62-8183-6b0580fb6bb9" status=200 latency=0
time=2025-06-30T18:48:16.747+08:00 level=INFO msg="synced user access time to database" module=repo.pg.user_access update_count=1
time=2025-06-30T18:48:26.607+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:48:34.851+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:48:35.156+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/detail?id=0197c072-b944-77ec-b281-04a39d655232" status=200 latency=0
time=2025-06-30T18:48:35.272+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:48:39.093+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:48:40.347+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=1
time=2025-06-30T18:48:41.610+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=PUT uri=/api/v1/node/detail status=200 latency=1
time=2025-06-30T18:48:41.932+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/node/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:48:53.574+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/knowledge_base/list status=200 latency=0
time=2025-06-30T18:48:53.901+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:48:54.336+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/conversation?page=1&per_page=20&kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8&subject=&remote_ip=" status=200 latency=3
time=2025-06-30T18:48:57.072+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/knowledge_base/list status=200 latency=0
time=2025-06-30T18:48:57.077+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:48:57.372+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/knowledge_base/release/list?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8&page=1&per_page=20" status=200 latency=2
time=2025-06-30T18:48:58.935+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/knowledge_base/list status=200 latency=0
time=2025-06-30T18:48:58.960+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user status=200 latency=0
time=2025-06-30T18:48:59.272+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/knowledge_base/detail?id=4294b80e-8544-4eb5-80f3-2a8942b10ec8" status=200 latency=0
time=2025-06-30T18:48:59.320+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/app/detail?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8&type=3" status=200 latency=1
time=2025-06-30T18:48:59.329+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/app/detail?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8&type=4" status=200 latency=1
time=2025-06-30T18:48:59.338+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/app/detail?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8&type=5" status=200 latency=1
time=2025-06-30T18:48:59.349+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri="/api/v1/app/detail?kb_id=4294b80e-8544-4eb5-80f3-2a8942b10ec8&type=1" status=200 latency=1
time=2025-06-30T18:49:10.551+08:00 level=INFO msg=REQUEST remote_ip=127.0.0.1 method=GET uri=/api/v1/user/list status=200 latency=1
time=2025-06-30T18:49:16.748+08:00 level=INFO msg="synced user access time to database" module=repo.pg.user_access update_count=1
